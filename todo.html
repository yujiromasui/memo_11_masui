<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>To-do list</title>
<script src="js/jquery-2.1.3.min.js"></script>
<link rel="stylesheet" href="css/sample.css">
</head>
<body>
<header>

</header>
<main>
    <ul>
        <li id="add">Add</li>
        <li id="done">Done</li>
    </ul>
    <table id="TODO">
        <tr>
            <th>âœ…å„ªå…ˆåº¦</th>
            <th id="data">
                <select name="importance" id="importance">
                    <option value="no">-</option>
                    <option value="high">High</option>
                    <option value="middle">Middle</option>
                    <option value="low">Low</option>
                </select>  
        </tr>
        <tr>
            <th>âœ…To-do</th>
            <th id="data">
                <input type="text" id="todo">
            </th>
        </tr>
        <tr>
            <th>âœ…Memo</th>
            <th id="data">
                <textarea id="memo"></textarea>
            </th>
        </tr>   
    </table>

<p id="star">ğŸŒŸãƒªã‚¹ãƒˆ</p>
<table class= "tablesorter" id="list">
    <thead>
        <tr>
            <th>âœ…å„ªå…ˆåº¦</th>
            <th>âœ…To-do</th>
            <th>âœ…Memo</th>
        </tr>
    </thead>
    <tbody id="sort">
        <!-- ã“ã“ã«appendã§è¿½åŠ ãƒ‡ãƒ¼ã‚¿ãŒæŒ¿å…¥ã•ã‚Œã‚‹ -->
    </tbody>
</table>
</main>

    <script>
// Add ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
$("#add").on("click",function(){
    alert("é ‘å¼µã£ã¦ğŸ’ª");
    // å€¤ã®å–å¾—ãƒ»ä¿å­˜
    const importance = $("#importance").val();
    const todo = $("#todo").val();
    const memo = $("#memo").val();
    const date = $("#date").val();
    localStorage.setItem(importance,todo,memo,date);
    const html =
    `<tr>
        <th>${importance}</th>
        <th>${todo}</th>
        <th>${memo}</th>
    </tr>`
    $("#list").append(html);
});

// Done ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆ
$("#done").on("click", function(){
    alert("ãŠç–²ã‚Œæ§˜ğŸ‘");
    // å€¤ã®å‰Šé™¤
    localStorage.clear();
    // HTMLå‡ºåŠ›
    $("#list").empty();
});

// ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿ï¼šä¿å­˜ãƒ‡ãƒ¼ã‚¿å–å¾—è¡¨ç¤º
for(let i = 0; i < localStorage.length; i++){
    const key = localStorage.key(i);
    const value = localStorage.getItem(key);
    const html = `<tr><th>${key}</th><td>${value}</td></tr>`;
    S("#list").append(html);
}

$(function() {
    $("#sort").sortable();
});

</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.31.1/js/jquery.tablesorter.min.js">
    $(document).ready(function() { 
	$("#list").tablesorter();
});
</script>
</body>
</html>